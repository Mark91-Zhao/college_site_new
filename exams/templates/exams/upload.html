{% extends "exams/base.html" %}
{% block title %}Upload File{% endblock %}

{% block content %}
<h1 style="text-align:center; margin-top:20px;">Upload File (Staff Only)</h1>

<form method="post" enctype="multipart/form-data" style="max-width:600px; margin:20px auto; padding:20px; border-radius:8px; background-color:#fff;">
    {% csrf_token %}
    <input type="file" name="file" style="display:block; margin-bottom:12px;">
    <button type="submit" class="btn">Upload</button>
</form>

{% if uploaded_files %}
<div style="max-width:600px; margin:10px auto; text-align:center;">
    <h3 style="color:#228B22;">Recently Uploaded</h3>
    <ul style="list-style:none; padding:0;">
        {% for f in uploaded_files %}
            <li>{{ f.filename }} â€” {{ f.timestamp }}</li>
        {% endfor %}
    </ul>
</div>
{% endif %}

{% if files %}
<h2 style="text-align:center; margin-top:30px;">All Uploaded Files (staff)</h2>
<table style="max-width:900px; margin:10px auto; background:#fff;">
    <tr>
        <th style="background-color:#006400; color:white; padding:8px;">Filename</th>
        <th style="background-color:#006400; color:white; padding:8px;">Uploaded At</th>
        <th style="background-color:#006400; color:white; padding:8px;">Link</th>
    </tr>
    {% for f in files %}
    <tr>
        <td style="padding:8px;">{{ f.filename }}</td>
        <td style="padding:8px; text-align:center;">{{ f.timestamp }}</td>
        <td style="padding:8px; text-align:center;">
            <a href="/{{ f.url }}" target="_blank" class="btn">Open</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p style="text-align:center; margin-top:20px;">No uploaded files yet.</p>
{% endif %}
{% endblock %}
