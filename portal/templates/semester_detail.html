{% extends "base.html" %}
{% block content %}
<div class="card shadow-sm">
    <div class="card-header bg-warning text-dark">
        <h5 class="mb-0">Semester Details</h5>
    </div>
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Semester Name</dt>
            <dd class="col-sm-9">{{ semester.name }}</dd>

            <dt class="col-sm-3">Year</dt>
            <dd class="col-sm-9">{{ semester.year }}</dd>

            <dt class="col-sm-3">Student</dt>
            <dd class="col-sm-9">
                {{ semester.student.name }} ({{ semester.student.reg_number }})
                <a href="{% url 'student_detail' semester.student.pk %}" class="btn btn-link btn-sm">View Student</a>
            </dd>
        </dl>

        <div class="mt-3">
            <a href="{% url 'semester_create' semester.pk %}" class="btn btn-primary">
                <i class="bi bi-pencil"></i> Edit
            </a>
            <a href="{% url 'semester_delete' semester.pk %}" class="btn btn-danger">
                <i class="bi bi-trash"></i> Delete
            </a>
            <a href="{% url 'semester_list' %}" class="btn btn-secondary">Back to Semesters</a>
        </div>
    </div>
</div>

<div class="card shadow-sm mt-4">
    <div class="card-header bg-success text-white">
        <h5 class="mb-0">Courses in this Semester</h5>
    </div>
    <div class="card-body">
        {% if semester.course_set.all %}
        <table class="table table-striped table-hover">
            <thead class="table-success">
                <tr>
                    <th>Course Name</th>
                    <th>Credit Hours</th>
                    <th>Marks</th>
                    <th>Grade Point</th>
                </tr>
            </thead>
            <tbody>
                {% for course in semester.course_set.all %}
                <tr>
                    <td>{{ course.name }}</td>
                    <td>{{ course.credit_hours }}</td>
                    <td>{{ course.marks }}</td>
                    <td>{{ course.get_grade_point }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p class="text-muted">No courses available for this semester.</p>
        {% endif %}
    </div>
</div>
{% endblock %}
